function _0x2924(_0x67981c,_0x2988a9){const _0x4ed21e=_0x4ed2();return _0x2924=function(_0x2924eb,_0x1a604f){_0x2924eb=_0x2924eb-0x16d;let _0x408242=_0x4ed21e[_0x2924eb];return _0x408242;},_0x2924(_0x67981c,_0x2988a9);}function _0x4ed2(){const _0x232b58=['children','textContent','catch','removeChild','.precio','id-venta-modificar',',\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Venta:\x20','querySelector','then','nombre','message','appendChild','length','/api/productos','from','POST','producto','submit','12FjeFaq','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ID:\x20','stringify','.id-producto','precio','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22id-producto\x20form-select\x20mb-2\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>Seleccione\x20un\x20producto\x20disponible</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22cantidad\x20form-control\x20mb-2\x22\x20placeholder=\x22Cantidad\x22\x20required\x20min=\x221\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22precio\x20form-control\x20mb-2\x22\x20placeholder=\x22Precio\x20unitario\x22\x20readonly>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22subtotal\x20form-control\x20mb-2\x22\x20placeholder=\x22Subtotal\x22\x20readonly>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22eliminar-producto\x20btn\x20btn-danger\x20mb-3\x22>Eliminar</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','click','idProducto','reduce','id-detalle-venta-modificar','querySelectorAll','Error\x20al\x20cargar\x20detalles\x20de\x20venta:','toFixed','14343852ZceRPn','266GkhJLW','application/json','innerHTML','No\x20hay\x20detalles\x20de\x20venta\x20disponibles.','subtotal-total','eliminar-detalle-venta-form','productos-container','N/A','div','error','getElementById','Detalle\x20de\x20venta\x20no\x20encontrado','list-group-item\x20bg-dark\x20text-white','/api/detalles_venta/','490qIVmoY','id-detalle-venta-eliminar','reset','<li\x20class=\x22list-group-item\x20bg-dark\x20text-white\x20text-danger\x22>Error\x20al\x20cargar\x20detalles\x20de\x20venta.\x20Por\x20favor,\x20intente\x20de\x20nuevo\x20m√°s\x20tarde.</li>','58167zkzxBJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','0.00','agregar-producto','createElement','982318ZKxTwH','all','132705ZyTRdJ','map','\x20-\x20$','1YkHCVC','id-venta','cantidad','addEventListener','186VJSgXF','.cantidad','detalles-venta-lista','value','707108cwvIWv','crear-detalle-venta-form','venta','Error\x20al\x20cargar\x20productos\x20disponibles:',',\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Cantidad:\x20','<span\x20class=\x22text-danger\x22>(Producto\x20no\x20encontrado)</span>','http://localhost:8080','className','DOMContentLoaded','options','subtotal','.subtotal','stock','Error\x20al\x20eliminar\x20detalle\x20de\x20venta:','.eliminar-producto','forEach','json','dataset','preventDefault','33624BvMnUw','5405026WHOlsv','/api/detalles_venta'];_0x4ed2=function(){return _0x232b58;};return _0x4ed2();}const _0xd3a5e4=_0x2924;(function(_0x559b45,_0x3b86aa){const _0x3aee8e=_0x2924,_0x242eb3=_0x559b45();while(!![]){try{const _0x2cc3d7=parseInt(_0x3aee8e(0x18b))/0x1*(parseInt(_0x3aee8e(0x186))/0x2)+-parseInt(_0x3aee8e(0x1bb))/0x3*(parseInt(_0x3aee8e(0x193))/0x4)+parseInt(_0x3aee8e(0x188))/0x5*(-parseInt(_0x3aee8e(0x18f))/0x6)+-parseInt(_0x3aee8e(0x16f))/0x7*(-parseInt(_0x3aee8e(0x1a6))/0x8)+-parseInt(_0x3aee8e(0x181))/0x9*(parseInt(_0x3aee8e(0x17d))/0xa)+parseInt(_0x3aee8e(0x1a7))/0xb+parseInt(_0x3aee8e(0x16e))/0xc;if(_0x2cc3d7===_0x3b86aa)break;else _0x242eb3['push'](_0x242eb3['shift']());}catch(_0x3b72da){_0x242eb3['push'](_0x242eb3['shift']());}}}(_0x4ed2,0x77df2));const API_BASE=_0xd3a5e4(0x199);document['addEventListener'](_0xd3a5e4(0x19b),function(){const _0xeef738=_0xd3a5e4,_0x499bac=document[_0xeef738(0x179)](_0xeef738(0x191)),_0x123833=document['getElementById'](_0xeef738(0x175)),_0x4e2a9d=document[_0xeef738(0x179)](_0xeef738(0x184)),_0x2d9445=document[_0xeef738(0x179)](_0xeef738(0x173)),_0x4e2219=document[_0xeef738(0x179)](_0xeef738(0x194)),_0x415dee=document[_0xeef738(0x179)]('modificar-detalle-venta-form'),_0x55ac34=document[_0xeef738(0x179)](_0xeef738(0x174));let _0x35e404=[],_0x4a13c5=0x0;function _0x38cecc(){const _0x243298=_0xeef738;fetch(API_BASE+_0x243298(0x1a8))[_0x243298(0x1b1)](_0x115182=>_0x115182['json']())[_0x243298(0x1b1)](_0x137bfb=>{const _0x366b1b=_0x243298;_0x499bac[_0x366b1b(0x171)]='';if(_0x137bfb[_0x366b1b(0x1b5)]===0x0){const _0x43a1b6=document[_0x366b1b(0x185)]('li');_0x43a1b6[_0x366b1b(0x19a)]=_0x366b1b(0x17b),_0x43a1b6[_0x366b1b(0x1aa)]=_0x366b1b(0x172),_0x499bac[_0x366b1b(0x1b4)](_0x43a1b6);}else _0x137bfb['forEach'](_0x357438=>{const _0x4397ef=_0x366b1b,_0x573838=document[_0x4397ef(0x185)]('li');_0x573838[_0x4397ef(0x19a)]=_0x4397ef(0x17b),_0x573838[_0x4397ef(0x171)]=_0x4397ef(0x1bd)+(_0x357438['id']||_0x4397ef(0x176))+_0x4397ef(0x1af)+(_0x357438[_0x4397ef(0x195)]&&_0x357438[_0x4397ef(0x195)]['id']?_0x357438['venta']['id']:_0x4397ef(0x176))+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Producto:\x20'+(_0x357438['producto']&&_0x357438[_0x4397ef(0x1b9)][_0x4397ef(0x1b2)]?_0x357438['producto'][_0x4397ef(0x1b2)]:_0x4397ef(0x176))+_0x4397ef(0x197)+(_0x357438[_0x4397ef(0x18d)]||0x0)+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Subtotal:\x20$'+(_0x357438[_0x4397ef(0x19d)]||0x0)[_0x4397ef(0x16d)](0x2)+_0x4397ef(0x182)+(_0x357438[_0x4397ef(0x195)]===null?'<span\x20class=\x22text-danger\x22>(Venta\x20no\x20encontrada)</span>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x357438[_0x4397ef(0x1b9)]===null?_0x4397ef(0x198):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x499bac[_0x4397ef(0x1b4)](_0x573838);});})['catch'](_0x518a35=>{const _0x166157=_0x243298;console['error'](_0x166157(0x1c7),_0x518a35),_0x499bac[_0x166157(0x171)]=_0x166157(0x180);});}function _0x46130f(){const _0x25e923=_0xeef738;fetch(API_BASE+_0x25e923(0x1b6))[_0x25e923(0x1b1)](_0x1c12de=>_0x1c12de[_0x25e923(0x1a3)]())[_0x25e923(0x1b1)](_0x178e12=>{_0x35e404=_0x178e12,_0x4e1a91();})[_0x25e923(0x1ab)](_0x20f914=>console[_0x25e923(0x178)](_0x25e923(0x196),_0x20f914));}function _0x4e1a91(){const _0x3968d3=_0xeef738,_0x3c647c=document[_0x3968d3(0x1c6)](_0x3968d3(0x1bf));_0x3c647c['forEach'](_0x5184c7=>{const _0x4af24d=_0x3968d3;_0x5184c7[_0x4af24d(0x171)]='<option\x20value=\x22\x22>Seleccione\x20un\x20producto\x20disponible</option>',_0x35e404[_0x4af24d(0x1a2)](_0x34fc3c=>{const _0x1d0f2c=_0x4af24d;if(_0x34fc3c['cantidad']>0x0){const _0x388ab2=document[_0x1d0f2c(0x185)]('option');_0x388ab2['value']=_0x34fc3c['id'],_0x388ab2[_0x1d0f2c(0x1aa)]=_0x34fc3c['nombre']+_0x1d0f2c(0x18a)+_0x34fc3c['precio']['toFixed'](0x2)+'\x20('+_0x34fc3c['cantidad']+'\x20disponibles)',_0x388ab2['dataset'][_0x1d0f2c(0x1c0)]=_0x34fc3c[_0x1d0f2c(0x1c0)],_0x388ab2[_0x1d0f2c(0x1a4)][_0x1d0f2c(0x19f)]=_0x34fc3c[_0x1d0f2c(0x18d)],_0x5184c7[_0x1d0f2c(0x1b4)](_0x388ab2);}});});}function _0x216c1c(){const _0x581702=_0xeef738;_0x4a13c5++;const _0x47d28f=document['createElement'](_0x581702(0x177));_0x47d28f[_0x581702(0x19a)]=_0x581702(0x1b9),_0x47d28f['innerHTML']=_0x581702(0x1c1),_0x123833[_0x581702(0x1b4)](_0x47d28f);const _0x5e9047=_0x47d28f[_0x581702(0x1b0)](_0x581702(0x1bf)),_0xfe36c1=_0x47d28f[_0x581702(0x1b0)]('.cantidad'),_0x4cd1b5=_0x47d28f[_0x581702(0x1b0)](_0x581702(0x1ad)),_0x593da7=_0x47d28f[_0x581702(0x1b0)](_0x581702(0x19e)),_0x15a3b9=_0x47d28f[_0x581702(0x1b0)](_0x581702(0x1a1));_0x4e1a91(),_0x5e9047[_0x581702(0x18e)](_0x581702(0x1bc),_0x182bce),_0xfe36c1[_0x581702(0x18e)]('input',_0x182bce);function _0x182bce(){const _0x3e1af4=_0x581702,_0x22a52a=_0x5e9047[_0x3e1af4(0x19c)][_0x5e9047['selectedIndex']];if(_0x22a52a&&_0x22a52a['dataset'][_0x3e1af4(0x1c0)]){const _0x14e199=parseFloat(_0x22a52a['dataset'][_0x3e1af4(0x1c0)]),_0x3ad219=parseInt(_0x22a52a[_0x3e1af4(0x1a4)][_0x3e1af4(0x19f)]);let _0x27d3d6=parseInt(_0xfe36c1[_0x3e1af4(0x192)])||0x0;_0x27d3d6>_0x3ad219&&(alert('No\x20hay\x20suficiente\x20stock.\x20Stock\x20disponible:\x20'+_0x3ad219),_0x27d3d6=_0x3ad219,_0xfe36c1[_0x3e1af4(0x192)]=_0x3ad219);_0x4cd1b5[_0x3e1af4(0x192)]=_0x14e199[_0x3e1af4(0x16d)](0x2);const _0x37aaae=_0x14e199*_0x27d3d6;_0x593da7['value']=_0x37aaae[_0x3e1af4(0x16d)](0x2),_0x6b50e4();}else _0x4cd1b5[_0x3e1af4(0x192)]='',_0x593da7['value']='';}_0x15a3b9[_0x581702(0x18e)](_0x581702(0x1c2),()=>{const _0x54414b=_0x581702;_0x123833[_0x54414b(0x1ac)](_0x47d28f),_0x6b50e4();});}function _0x6b50e4(){const _0x57eb7d=_0xeef738,_0x4deb11=document[_0x57eb7d(0x1c6)]('.subtotal'),_0x57ece2=Array['from'](_0x4deb11)[_0x57eb7d(0x1c4)]((_0x1ad82f,_0x2d0c61)=>{const _0x6ebdd7=_0x57eb7d;return _0x1ad82f+(parseFloat(_0x2d0c61[_0x6ebdd7(0x192)])||0x0);},0x0);_0x2d9445[_0x57eb7d(0x192)]=_0x57ece2[_0x57eb7d(0x16d)](0x2);}_0x4e2a9d[_0xeef738(0x18e)](_0xeef738(0x1c2),_0x216c1c),_0x4e2219[_0xeef738(0x18e)](_0xeef738(0x1ba),function(_0x8d945a){const _0x537359=_0xeef738;_0x8d945a[_0x537359(0x1a5)]();const _0x3ebcb1=document['getElementById'](_0x537359(0x18c))[_0x537359(0x192)],_0x2ef2a9=Array[_0x537359(0x1b7)](_0x123833[_0x537359(0x1a9)])[_0x537359(0x189)](_0x35514a=>({'idProducto':_0x35514a[_0x537359(0x1b0)](_0x537359(0x1bf))[_0x537359(0x192)],'cantidad':_0x35514a[_0x537359(0x1b0)](_0x537359(0x190))['value'],'subtotal':_0x35514a[_0x537359(0x1b0)](_0x537359(0x19e))[_0x537359(0x192)]}));Promise[_0x537359(0x187)](_0x2ef2a9[_0x537359(0x189)](_0xf6d5f8=>{const _0x37ac2c=_0x537359;return fetch(API_BASE+_0x37ac2c(0x1a8),{'method':_0x37ac2c(0x1b8),'headers':{'Content-Type':_0x37ac2c(0x170)},'body':JSON[_0x37ac2c(0x1be)]({'venta':{'id':parseInt(_0x3ebcb1)},'producto':{'id':parseInt(_0xf6d5f8[_0x37ac2c(0x1c3)])},'cantidad':parseInt(_0xf6d5f8[_0x37ac2c(0x18d)]),'subtotal':parseFloat(_0xf6d5f8[_0x37ac2c(0x19d)])})});}))[_0x537359(0x1b1)](()=>{const _0x89447d=_0x537359;_0x38cecc(),_0x4e2219[_0x89447d(0x17f)](),_0x123833[_0x89447d(0x171)]='',_0x2d9445[_0x89447d(0x192)]=_0x89447d(0x183),_0x46130f();})[_0x537359(0x1ab)](_0x4d7711=>{const _0x21a329=_0x537359;console[_0x21a329(0x178)]('Error\x20al\x20crear\x20detalle\x20de\x20venta:',_0x4d7711),alert(_0x4d7711[_0x21a329(0x1b3)]);});}),_0x415dee['addEventListener']('submit',function(_0x463c1a){const _0x5e247b=_0xeef738;_0x463c1a['preventDefault']();const _0x142b14=document[_0x5e247b(0x179)](_0x5e247b(0x1c5))[_0x5e247b(0x192)],_0x979302=document[_0x5e247b(0x179)](_0x5e247b(0x1ae))[_0x5e247b(0x192)],_0x21ef14=document[_0x5e247b(0x179)]('id-producto-modificar')[_0x5e247b(0x192)],_0x35068d=document[_0x5e247b(0x179)]('cantidad-modificar')[_0x5e247b(0x192)],_0x264f51=document[_0x5e247b(0x179)]('subtotal-modificar')[_0x5e247b(0x192)];fetch(API_BASE+_0x5e247b(0x17c)+_0x142b14,{'method':'PUT','headers':{'Content-Type':_0x5e247b(0x170)},'body':JSON['stringify']({'venta':{'id':parseInt(_0x979302)},'producto':{'id':parseInt(_0x21ef14)},'cantidad':parseInt(_0x35068d),'subtotal':parseFloat(_0x264f51)})})[_0x5e247b(0x1b1)](_0x4cb67c=>{const _0x14fb7c=_0x5e247b;if(!_0x4cb67c['ok'])throw new Error(_0x14fb7c(0x17a));return _0x4cb67c[_0x14fb7c(0x1a3)]();})[_0x5e247b(0x1b1)](()=>{const _0x638360=_0x5e247b;_0x38cecc(),_0x415dee[_0x638360(0x17f)](),_0x46130f();})[_0x5e247b(0x1ab)](_0x482290=>{const _0x522fd0=_0x5e247b;console[_0x522fd0(0x178)]('Error\x20al\x20modificar\x20detalle\x20de\x20venta:',_0x482290),alert(_0x482290[_0x522fd0(0x1b3)]);});}),_0x55ac34['addEventListener']('submit',function(_0x446741){const _0x6ce884=_0xeef738;_0x446741['preventDefault']();const _0x42a39e=document['getElementById'](_0x6ce884(0x17e))['value'];fetch(API_BASE+_0x6ce884(0x17c)+_0x42a39e,{'method':'DELETE'})[_0x6ce884(0x1b1)](_0x4d958b=>{const _0x3fabc6=_0x6ce884;if(!_0x4d958b['ok'])throw new Error('Detalle\x20de\x20venta\x20no\x20encontrado');_0x38cecc(),_0x55ac34[_0x3fabc6(0x17f)](),_0x46130f();})[_0x6ce884(0x1ab)](_0x362852=>{const _0x25c04c=_0x6ce884;console['error'](_0x25c04c(0x1a0),_0x362852),alert(_0x362852[_0x25c04c(0x1b3)]);});}),_0x38cecc(),_0x46130f();});