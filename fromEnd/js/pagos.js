const _0x101e1f=_0x5b18;function _0x1bd6(){const _0x534a0a=['monto-total','id-detalle-venta-modificar','crear-pago-form','reset','subtotal','DOMContentLoaded','metodoPago','Pago\x20eliminado\x20exitosamente','/api/pagos','metodo-pago','createElement','3yzYCWy','then','Error\x20al\x20formatear\x20fecha:','pagos-lista','options','replace','\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Fecha:</strong>\x20','3034131cYdoly','Error\x20al\x20cargar\x20pagos:\x20','value','querySelectorAll','detalleVenta','selectedIndex','783962lrQIYU','monto-pagado-modificar','2930851xmJhQz','monto-total-modificar','</li>','montoTotal','Error\x20al\x20modificar\x20pago:\x20','ID:\x20','\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Monto\x20Pagado:</strong>\x20$','json','eliminar-pago-form','N/A','\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Monto\x20Total:</strong>\x20$','El\x20monto\x20pagado\x20no\x20puede\x20ser\x20mayor\x20que\x20el\x20monto\x20total','dataset','innerHTML','stringify','POST','175vgABjj','length','modificar-pago-form','id-pago-eliminar','Error\x20al\x20cargar\x20detalles\x20de\x20venta','Pago\x20no\x20encontrado\x20o\x20error\x20al\x20modificar','status','appendChild','change','catch','8097672fHUqzL','error','nombre','Error\x20al\x20eliminar\x20pago:\x20','Pago\x20no\x20encontrado\x20o\x20error\x20al\x20eliminar','14465745qOrQvJ','Error\x20al\x20crear\x20pago:\x20','Error\x20al\x20cargar\x20detalles\x20de\x20venta:','Pago\x20creado\x20exitosamente','<li\x20class=\x22list-group-item\x22>No\x20hay\x20pagos\x20disponibles.</li>','application/json','Pago\x20modificado\x20exitosamente','submit','Error:','DELETE','id-pago-modificar','130844KcSihr','<li\x20class=\x22list-group-item\x20text-danger\x22>Error\x20al\x20cargar\x20pagos:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','producto','/api/pagos/','toISOString','monto','list-group-item','addEventListener','forEach','12342768jTUGXY','preventDefault','toFixed','monto-pagado','message','fechaPago','id-detalle-venta','<option\x20value=\x22\x22>Seleccione\x20un\x20detalle\x20de\x20venta</option>'];_0x1bd6=function(){return _0x534a0a;};return _0x1bd6();}function _0x5b18(_0x295816,_0x57d19f){const _0x1bd68d=_0x1bd6();return _0x5b18=function(_0x5b185b,_0x420964){_0x5b185b=_0x5b185b-0x154;let _0x5f340c=_0x1bd68d[_0x5b185b];return _0x5f340c;},_0x5b18(_0x295816,_0x57d19f);}(function(_0x35a50c,_0x14d98e){const _0x5f0f45=_0x5b18,_0x123e9e=_0x35a50c();while(!![]){try{const _0x366774=-parseInt(_0x5f0f45(0x193))/0x1*(parseInt(_0x5f0f45(0x1a0))/0x2)+parseInt(_0x5f0f45(0x19a))/0x3+-parseInt(_0x5f0f45(0x175))/0x4*(parseInt(_0x5f0f45(0x15b))/0x5)+-parseInt(_0x5f0f45(0x165))/0x6+parseInt(_0x5f0f45(0x1a2))/0x7+parseInt(_0x5f0f45(0x180))/0x8+parseInt(_0x5f0f45(0x16a))/0x9;if(_0x366774===_0x14d98e)break;else _0x123e9e['push'](_0x123e9e['shift']());}catch(_0x201095){_0x123e9e['push'](_0x123e9e['shift']());}}}(_0x1bd6,0xde1d5),document['addEventListener'](_0x101e1f(0x18d),function(){const _0x297545=_0x101e1f,_0x598417='http://localhost:8080',_0x54dd80=document[_0x297545(0x178)](_0x297545(0x196));async function _0x13044f(){const _0x300af2=_0x297545;try{const _0x4dd70e=await fetch(_0x598417+'/api/detalles_venta');if(!_0x4dd70e['ok'])throw new Error(_0x300af2(0x15f));const _0xb2d1f5=await _0x4dd70e['json'](),_0x592eda=document[_0x300af2(0x19d)]('.selector-detalle-venta');_0x592eda[_0x300af2(0x17f)](_0xcd4b6f=>{const _0xc1b772=_0x300af2;_0xcd4b6f[_0xc1b772(0x158)]=_0xc1b772(0x187),_0xb2d1f5[_0xc1b772(0x17f)](_0x2241d7=>{const _0x5702b1=_0xc1b772,_0x384561=document['createElement']('option');_0x384561[_0x5702b1(0x19c)]=_0x2241d7['id'],_0x384561['textContent']=_0x5702b1(0x1a7)+_0x2241d7['id']+'\x20-\x20Producto:\x20'+_0x2241d7[_0x5702b1(0x179)][_0x5702b1(0x167)]+'\x20-\x20Subtotal:\x20$'+_0x2241d7['subtotal'][_0x5702b1(0x182)](0x2),_0x384561[_0x5702b1(0x157)][_0x5702b1(0x18c)]=_0x2241d7[_0x5702b1(0x18c)],_0xcd4b6f[_0x5702b1(0x162)](_0x384561);});});}catch(_0x4601b9){console[_0x300af2(0x166)](_0x300af2(0x16c),_0x4601b9);}}function _0x513ae5(){const _0x318638=_0x297545;fetch(_0x598417+_0x318638(0x190))[_0x318638(0x194)](_0x411020=>{const _0x3d62f1=_0x318638;if(!_0x411020['ok'])throw new Error(_0x3d62f1(0x19b)+_0x411020[_0x3d62f1(0x161)]);return _0x411020[_0x3d62f1(0x1a9)]();})[_0x318638(0x194)](_0x1e08d6=>{const _0x5aae08=_0x318638;_0x54dd80[_0x5aae08(0x158)]='',_0x1e08d6[_0x5aae08(0x15c)]===0x0?_0x54dd80[_0x5aae08(0x158)]=_0x5aae08(0x16e):_0x1e08d6[_0x5aae08(0x17f)](_0x8c0b2d=>{const _0x2ff6fc=_0x5aae08,_0x36cdd9=document[_0x2ff6fc(0x192)]('li');_0x36cdd9['className']=_0x2ff6fc(0x17d);let _0x280004=_0x2ff6fc(0x154);if(_0x8c0b2d[_0x2ff6fc(0x185)])try{const _0x156230=new Date(_0x8c0b2d[_0x2ff6fc(0x185)]);_0x280004=_0x156230['toLocaleDateString']();}catch(_0x465fb0){console[_0x2ff6fc(0x166)](_0x2ff6fc(0x195),_0x465fb0),_0x280004=_0x8c0b2d[_0x2ff6fc(0x185)];}_0x36cdd9[_0x2ff6fc(0x158)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ID\x20Pago:</strong>\x20'+_0x8c0b2d['id']+'\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Detalle\x20Venta\x20ID:</strong>\x20'+(_0x8c0b2d[_0x2ff6fc(0x19e)]&&_0x8c0b2d[_0x2ff6fc(0x19e)]['id']?_0x8c0b2d[_0x2ff6fc(0x19e)]['id']:_0x2ff6fc(0x154))+'\x20|\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>MÃ©todo:</strong>\x20'+(_0x8c0b2d[_0x2ff6fc(0x18e)]||_0x2ff6fc(0x154))+_0x2ff6fc(0x155)+(_0x8c0b2d[_0x2ff6fc(0x1a5)]||0x0)['toFixed'](0x2)+_0x2ff6fc(0x1a8)+(_0x8c0b2d[_0x2ff6fc(0x17c)]||0x0)['toFixed'](0x2)+_0x2ff6fc(0x199)+_0x280004+_0x2ff6fc(0x177),_0x54dd80['appendChild'](_0x36cdd9);});})[_0x318638(0x164)](_0x146586=>{const _0x31f078=_0x318638;console[_0x31f078(0x166)](_0x31f078(0x172),_0x146586),_0x54dd80[_0x31f078(0x158)]=_0x31f078(0x176)+_0x146586[_0x31f078(0x184)]+_0x31f078(0x1a4);});}function _0x541610(_0x3287d4,_0x25bed7){const _0x7accd3=_0x297545,_0x3886ca=_0x3287d4[_0x7accd3(0x197)][_0x3287d4[_0x7accd3(0x19f)]];_0x3886ca&&_0x3886ca['dataset'][_0x7accd3(0x18c)]?_0x25bed7[_0x7accd3(0x19c)]=parseFloat(_0x3886ca[_0x7accd3(0x157)][_0x7accd3(0x18c)])[_0x7accd3(0x182)](0x2):_0x25bed7[_0x7accd3(0x19c)]='';}_0x513ae5(),_0x13044f(),document[_0x297545(0x178)](_0x297545(0x186))[_0x297545(0x17e)](_0x297545(0x163),function(){const _0x1cff54=_0x297545;_0x541610(this,document[_0x1cff54(0x178)](_0x1cff54(0x188)));}),document[_0x297545(0x178)](_0x297545(0x189))[_0x297545(0x17e)]('change',function(){_0x541610(this,document['getElementById']('monto-total-modificar'));}),document[_0x297545(0x178)]('crear-pago-form')['addEventListener']('submit',function(_0x532fbb){const _0x2e3bd8=_0x297545;_0x532fbb[_0x2e3bd8(0x181)]();const _0x4c31fc=document[_0x2e3bd8(0x178)]('id-detalle-venta')[_0x2e3bd8(0x19c)],_0x2ee9d5=document['getElementById'](_0x2e3bd8(0x191))[_0x2e3bd8(0x19c)],_0x20d9ae=document[_0x2e3bd8(0x178)](_0x2e3bd8(0x188))[_0x2e3bd8(0x19c)],_0x23b021=document[_0x2e3bd8(0x178)](_0x2e3bd8(0x183))[_0x2e3bd8(0x19c)];if(parseFloat(_0x23b021)>parseFloat(_0x20d9ae)){alert(_0x2e3bd8(0x156));return;}const _0x3f13c9=new Date(),_0x2f4add=_0x3f13c9[_0x2e3bd8(0x17b)]()[_0x2e3bd8(0x198)]('Z','');fetch(_0x598417+_0x2e3bd8(0x190),{'method':_0x2e3bd8(0x15a),'headers':{'Content-Type':_0x2e3bd8(0x16f)},'body':JSON[_0x2e3bd8(0x159)]({'detalleVenta':{'id':parseInt(_0x4c31fc)},'metodoPago':_0x2ee9d5,'montoTotal':parseFloat(_0x20d9ae),'monto':parseFloat(_0x23b021),'fechaPago':_0x2f4add})})[_0x2e3bd8(0x194)](_0xf93398=>{const _0x2f9798=_0x2e3bd8;if(!_0xf93398['ok'])throw new Error(_0x2f9798(0x16b)+_0xf93398[_0x2f9798(0x161)]);return _0xf93398[_0x2f9798(0x1a9)]();})[_0x2e3bd8(0x194)](()=>{const _0x4977c6=_0x2e3bd8;alert(_0x4977c6(0x16d)),_0x513ae5(),document[_0x4977c6(0x178)](_0x4977c6(0x18a))[_0x4977c6(0x18b)]();})[_0x2e3bd8(0x164)](_0x1a895b=>{const _0x13dad7=_0x2e3bd8;console[_0x13dad7(0x166)](_0x13dad7(0x172),_0x1a895b),alert(_0x13dad7(0x16b)+_0x1a895b[_0x13dad7(0x184)]);});}),document['getElementById']('modificar-pago-form')['addEventListener']('submit',function(_0x4553ae){const _0x507b21=_0x297545;_0x4553ae['preventDefault']();const _0x168c27=document[_0x507b21(0x178)](_0x507b21(0x174))[_0x507b21(0x19c)],_0x25ba74=document[_0x507b21(0x178)](_0x507b21(0x189))[_0x507b21(0x19c)],_0x544b79=document[_0x507b21(0x178)]('metodo-pago-modificar')[_0x507b21(0x19c)],_0x4a6f99=document[_0x507b21(0x178)](_0x507b21(0x1a3))[_0x507b21(0x19c)],_0x5f1fa2=document[_0x507b21(0x178)](_0x507b21(0x1a1))['value'];if(parseFloat(_0x5f1fa2)>parseFloat(_0x4a6f99)){alert('El\x20monto\x20pagado\x20no\x20puede\x20ser\x20mayor\x20que\x20el\x20monto\x20total');return;}const _0x3c134f=new Date(),_0x1168b7=_0x3c134f[_0x507b21(0x17b)]()[_0x507b21(0x198)]('Z','');fetch(_0x598417+_0x507b21(0x17a)+_0x168c27,{'method':'PUT','headers':{'Content-Type':'application/json'},'body':JSON[_0x507b21(0x159)]({'detalleVenta':{'id':parseInt(_0x25ba74)},'metodoPago':_0x544b79,'montoTotal':parseFloat(_0x4a6f99),'monto':parseFloat(_0x5f1fa2),'fechaPago':_0x1168b7})})[_0x507b21(0x194)](_0x3b181a=>{const _0x7c9da6=_0x507b21;if(!_0x3b181a['ok'])throw new Error(_0x7c9da6(0x160));return _0x3b181a[_0x7c9da6(0x1a9)]();})[_0x507b21(0x194)](()=>{const _0x3f1a2c=_0x507b21;alert(_0x3f1a2c(0x170)),_0x513ae5(),document[_0x3f1a2c(0x178)](_0x3f1a2c(0x15d))[_0x3f1a2c(0x18b)]();})[_0x507b21(0x164)](_0x2a2dcf=>{const _0x55c58c=_0x507b21;console['error'](_0x55c58c(0x172),_0x2a2dcf),alert(_0x55c58c(0x1a6)+_0x2a2dcf[_0x55c58c(0x184)]);});}),document[_0x297545(0x178)](_0x297545(0x1aa))[_0x297545(0x17e)](_0x297545(0x171),function(_0x208d21){const _0x33cc6e=_0x297545;_0x208d21['preventDefault']();const _0xeccc05=document['getElementById'](_0x33cc6e(0x15e))[_0x33cc6e(0x19c)];fetch(_0x598417+_0x33cc6e(0x17a)+_0xeccc05,{'method':_0x33cc6e(0x173)})['then'](_0x4c8ba0=>{const _0x4e86db=_0x33cc6e;if(!_0x4c8ba0['ok'])throw new Error(_0x4e86db(0x169));alert(_0x4e86db(0x18f)),_0x513ae5(),document['getElementById']('eliminar-pago-form')[_0x4e86db(0x18b)]();})[_0x33cc6e(0x164)](_0x31245c=>{const _0x55543a=_0x33cc6e;console['error'](_0x55543a(0x172),_0x31245c),alert(_0x55543a(0x168)+_0x31245c[_0x55543a(0x184)]);});});}));